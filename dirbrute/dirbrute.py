import sys

import threading
import requests

def dbrute(url, wordlist):
    try:
        with open(wordlist, "r") as f:
            wordlist = f.readlines()    
        for word in wordlist:
            try:
                new_url = "{}/{}".format(url, word.strip())
                r = requests.get(new_url)
                code = r.status_code
                if code != 404:
                    print("[ + ] code: {} ==> url: {}".format(code, new_url))
            except KeyboardInterrupt:
                print("\nKeyboard Interrupt")
                sys.exit(0)
            except Exception as e:
                print("Unexpected error as occured.")
                sys.exit(0)
    except FileNotFoundError:
        print("File not found.")
        sys.exit(0)
    except Exception:
        print("Unexpected error as occured.")
        sys.exit(0)

if __name__ == "__main__":
    if len(sys.argv) <= 2:
        print("===============================")
        print("##      Directory Brute      ##")
        print("===============================")
        print("")
        print("Use: python dirbrute.py <url> <file.txt>")
        sys.exit(0)
wordlist = sys.argv[2]
url = sys.argv[1]
dbrute(url, wordlist)

